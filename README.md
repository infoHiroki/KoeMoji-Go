# KoeMoji-Go

音声・動画ファイル自動文字起こしツール

## 概要

KoeMoji-Goは、音声・動画ファイルを自動で文字起こしするアプリケーションです。
Python版のKoeMojiAuto-cliをGoに移植し、シングルバイナリでの配布と順次処理による安定動作を実現しています。

### 特徴

- **シングルバイナリ**: 実行ファイル1つで動作
- **順次処理**: 1ファイルずつ安定した処理
- **FasterWhisper連携**: 高精度な音声認識
- **AI要約機能**: OpenAI APIによる自動要約生成
- **デュアル録音**: システム音声+マイク同時録音（Windows: v1.7.0～、macOS: v1.8.0～）
- **録音機能**: 内蔵マイク録音機能
- **GUI/TUI対応**: グラフィカル画面とターミナル画面の両対応
- **自動監視**: フォルダを定期的に監視して自動処理

## ⚡ クイックスタート

### 前提条件

**Python 3.12** を推奨します（3.13以降は非対応）。
```bash
python --version  # 3.12であることを確認
```

> **重要**: Python 3.13/3.14や3.8など古いバージョンでは動作しません。

Pythonがない場合は [Python公式ダウンロード](https://www.python.org/downloads/) からインストールしてください。

### インストール

[GitHubリリース](https://github.com/infoHiroki/KoeMoji-Go/releases)から対応OS版をダウンロードして展開してください。

#### 🪟 Windows

1. **ダウンロード**: `koemoji-go-windows-1.7.0.zip`
2. **展開後の構成**:
   ```
   📁 koemoji-go-1.7.0
   ├── koemoji-go.exe          # 実行ファイル（アイコン付き）
   ├── libportaudio.dll        # 録音機能用ライブラリ
   ├── libgcc_s_seh-1.dll      # GCCランタイム
   ├── libwinpthread-1.dll     # スレッドサポート
   ├── config.json             # 設定ファイル
   └── README.md               # 説明書
   ```
3. **実行**:
   ```cmd
   koemoji-go.exe
   ```

> **デュアル録音機能**: システム音声+マイク同時録音がサポートされています。
> - **Windows**: デフォルトで有効、1ファイル自動ミックス、UI音量調整あり
> - **macOS**: デフォルトで無効、1ファイル自動ミックス、**FFmpeg不要**（macOS 13以降、画面収録権限が必要）

#### 🍎 macOS

1. **ダウンロード**:
   - **Apple Silicon (M1/M2/M3)**: `koemoji-go-macos-1.8.0.tar.gz`

2. **展開後の構成**:
   ```
   📁 koemoji-go-1.8.0
   ├── koemoji-go         # 実行ファイル（GUI/TUI両対応）
   ├── config.json        # 設定ファイル
   └── README.md          # 説明書
   ```

3. **実行**:
   ```bash
   ./koemoji-go          # GUI版（デフォルト）
   ./koemoji-go --tui    # TUI版
   ```

> **初回実行時**: FasterWhisperが自動インストールされます（数分かかります）
>
> **録音機能**:
> - シングル録音（マイクのみ）：すべてのバージョンで利用可能
> - デュアル録音（システム音声+マイク）：macOS 13以降、設定画面で有効化（画面収録権限が必要）
>   - v1.8.0～: **FFmpeg不要**、1ファイル自動ミックス、シンプルなUX

### 基本的な使い方

#### 1. 音声ファイルを処理する
1. `input/` フォルダに音声ファイル（MP3, WAV等）を置く
2. 自動的に処理が開始されます
3. 結果は `output/` フォルダに保存されます
4. 処理済みファイルは `archive/` に移動されます

#### 2. UIモード選択
- **GUI モード（デフォルト）**: ボタンクリックで操作
  ```bash
  ./koemoji-go
  ```
- **TUI モード**: キーボード操作
  ```bash
  ./koemoji-go --tui
  ```

#### 3. 主要な操作（TUIモード）
- `c` - 設定変更
- `l` - ログ表示  
- `s` - 手動スキャン
- `r` - 録音開始/停止
- `q` - 終了

#### 4. 対応ファイル形式
- **音声**: MP3, WAV, M4A, FLAC, OGG, AAC
- **動画**: MP4, MOV, AVI

#### 5. AI要約機能（オプション）
1. [OpenAI Platform](https://platform.openai.com/)でAPIキー取得
2. 設定画面（`c`）でAPIキーを入力
3. 文字起こし後に自動で要約が生成されます

## 📚 詳細情報

- **[🔧 トラブル解決](docs/user/TROUBLESHOOTING.md)** - 問題解決とFAQ
- **[🍎 システム音声＋マイク録音設定（macOS）](docs/user/SYSTEM_AUDIO_RECORDING_MACOS.md)** - macOS環境での同時録音設定
- **[📖 開発者向けドキュメント](docs/)** - ビルド方法、アーキテクチャ、技術仕様

## 🏢 商用利用について

KoeMoji-Goは個人利用は完全無料ですが、商用利用の際は事前連絡が必要です。

### セキュリティ重視企業向け

KoeMoji-Goは以下の特徴により、セキュリティ要件の厳しい業界でも安心してご利用いただけます：

- 🔒 **完全ローカル処理** - 音声データが外部に送信されることはありません
- 🚫 **オンライン認証なし** - ネットワーク制限のある環境でも動作
- 📖 **ソースコード公開** - セキュリティ監査が可能

### 商用利用をご検討の企業様へ

以下のサポートサービスをご用意しています：

- 📋 **導入支援サービス** - 環境構築・初期設定のサポート
- 🛡️ **年間サポート契約** - 技術サポート・バージョンアップ対応
- ⚙️ **カスタマイズ開発** - 企業固有の要件への対応
- 📊 **DXコンサルティング** - 業務改善提案

### 導入実績

- 🏗️ **建築・土木** - 現場会議の議事録作成
- 🏥 **医療機関** - カンファレンスの記録・共有

### 想定利用シーン

以下のような業界・用途でもご活用いただけます：

- ⚖️ 法律事務所 - 相談記録、ヒアリング
- 📋 社労士事務所 - 顧客面談記録
- 🏦 金融機関 - コンプライアンス記録
- 🏛️ 政府機関・自治体 - 会議議事録
- 📚 教育機関 - 講義・講演の文字起こし
- 🎤 メディア - インタビュー記事作成

### 詳細情報

- **[商用利用ガイド](docs/business/COMMERCIAL_USE.md)** - 商用利用の詳細
- **[サポートプラン](docs/business/SUPPORT_PLANS.md)** - サポートサービス詳細
- **[セキュリティホワイトペーパー](docs/business/SECURITY_WHITEPAPER.md)** - セキュリティ設計

### お問い合わせ

**メール**: koemoji2024@gmail.com
**件名**: 商用利用について

## ライセンス

**個人利用**: 自由に使用可能
**商用利用**: 事前連絡が必要

詳細は[LICENSE](LICENSE)ファイルをご確認ください。

## 作者

KoeMoji-Go開発チーム  
連絡先: koemoji2024@gmail.com