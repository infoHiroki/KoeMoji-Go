# VoiceMeeterçµ±åˆæ©Ÿèƒ½ v1.6.0 - é€²æ—ãƒ¬ãƒãƒ¼ãƒˆ

**æ—¥ä»˜:** 2025-10-20
**ãƒ–ãƒ©ãƒ³ãƒ:** feature/voicemeeter-integration
**æ‹…å½“:** Claude Code

---

## ğŸ“Š ç¾çŠ¶ã‚µãƒãƒªãƒ¼

### âœ… å®Œäº†ã—ãŸä½œæ¥­

#### 1. v1.6.0ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- **version.goæ›´æ–°:** 1.5.5 â†’ 1.6.0
- **Windowsãƒ“ãƒ«ãƒ‰å®Œäº†:** koemoji-go.exe (24MB)
- **é…å¸ƒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆ:** `build/releases/KoeMoji-Go-v1.6.0-win.zip` (12MB)
- **ã‚³ãƒŸãƒƒãƒˆå®Œäº†:** `b5328d5` (æœªãƒ—ãƒƒã‚·ãƒ¥)
- **Gitè¨­å®š:** user.email, user.name è¨­å®šå®Œäº†

#### 2. é–‹ç™ºç’°å¢ƒæ§‹ç¯‰
- **MSYS2 MinGW64:** GCC 15.2.0
- **PortAudio:** ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
- **pkg-config:** ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
- **Go:** 1.25.3 ç¢ºèªæ¸ˆã¿
- **ç’°å¢ƒå¤‰æ•°PATH:** Go, MSYS2è¿½åŠ å®Œäº†

#### 3. ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼
- `build.bat` æ­£å¸¸å‹•ä½œç¢ºèª
- DLLé…ç½®ç¢ºèª (libportaudio.dll, libgcc_s_seh-1.dll, libwinpthread-1.dll)
- ZIPåœ§ç¸®ãƒ»releasesé…ç½®å®Œäº†

---

## ğŸ› ç‰¹å®šã—ãŸå•é¡Œ

### VoiceMeeteræ¤œå‡ºãŒå¤±æ•—ã™ã‚‹

#### ç—‡çŠ¶
- ã€ŒVoiceMeeterè¨­å®šã‚’é©ç”¨ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
- ã‚¨ãƒ©ãƒ¼è¡¨ç¤º: "VoiceMeeterãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
- VoiceMeeterã‚¢ãƒ—ãƒªã¯èµ·å‹•ä¸­ï¼ˆPID: 19148ç¢ºèªæ¸ˆã¿ï¼‰

#### æ ¹æœ¬åŸå› 

**1. ãƒ‡ãƒã‚¤ã‚¹åã®ãƒŸã‚¹ãƒãƒƒãƒ**

å®Ÿéš›ã®ç’°å¢ƒ:
```
Windowsèªè­˜: VB-Audio Voicemeeter VAIO
VoiceMeeterãƒ—ãƒ­ã‚»ã‚¹: èµ·å‹•ä¸­ (voicemeeter.exe, PID: 19148)
ãƒãƒ¼ã‚¸ãƒ§ãƒ³: VoiceMeeter Basic v1.1.1.9
```

æ¤œå‡ºã‚³ãƒ¼ãƒ‰ (`internal/recorder/recorder.go:532-537`):
```go
voicemeeterKeywords := []string{
    "voicemeeter output",
    "voicemeeter input",
    "voicemeeter aux",
    "cable output", // VB-CABLE
}
```

**å•é¡Œç‚¹:**
- å®Ÿéš›ã®ãƒ‡ãƒã‚¤ã‚¹å `VB-Audio Voicemeeter VAIO` ãŒã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«ã‚‚ä¸€è‡´ã—ãªã„
- æ¤œç´¢ãŒéƒ¨åˆ†ä¸€è‡´ã ãŒã€"VB-Audio" ã‚„ "VAIO" ãŒã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«å«ã¾ã‚Œã¦ã„ãªã„

**2. æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ã®åˆ¶ç´„**

`DetectVoiceMeeter()` é–¢æ•° (recorder.go:519-551):
- `MaxInputChannels > 0` ã®ãƒ‡ãƒã‚¤ã‚¹ã®ã¿æ¤œç´¢
- VoiceMeeterä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ã®å…¥å‡ºåŠ›ãƒãƒ£ãƒ³ãƒãƒ«æ§‹æˆãŒæƒ³å®šã¨ç•°ãªã‚‹å¯èƒ½æ€§

---

## ğŸ”§ ä¿®æ­£ãƒ—ãƒ©ãƒ³

### æ¨å¥¨: ã‚ªãƒ—ã‚·ãƒ§ãƒ³A - æ¤œå‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ‹¡å¼µ

**ä¿®æ­£ç®‡æ‰€:** `internal/recorder/recorder.go` 532-537è¡Œç›®

**å¤‰æ›´å‰:**
```go
voicemeeterKeywords := []string{
    "voicemeeter output",
    "voicemeeter input",
    "voicemeeter aux",
    "cable output", // VB-CABLE
}
```

**å¤‰æ›´å¾Œ:**
```go
voicemeeterKeywords := []string{
    "voicemeeter",     // ã‚·ãƒ³ãƒ—ãƒ«ãƒãƒƒãƒã§å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¯¾å¿œ
    "vb-audio",        // VB-Audioè£½å“å…¨èˆ¬
    "vaio",            // VAIOä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹
    "cable output",    // VB-CABLE
}
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- âœ… Basic/Banana/Potatoå…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¯¾å¿œ
- âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œå‡ºç²¾åº¦å‘ä¸Š
- âœ… æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’å¤§ããå¤‰æ›´ã—ãªã„
- âœ… å¾Œæ–¹äº’æ›æ€§ç¶­æŒ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- "voicemeeter" ãŒå«ã¾ã‚Œã‚‹ç„¡é–¢ä¿‚ãªãƒ‡ãƒã‚¤ã‚¹ã‚’èª¤æ¤œå‡ºã™ã‚‹å¯èƒ½æ€§ï¼ˆä½ãƒªã‚¹ã‚¯ï¼‰

### ä»£æ›¿æ¡ˆ: ã‚ªãƒ—ã‚·ãƒ§ãƒ³B - VoiceMeeter Bananaã¸ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

**æ‰‹é †:**
1. https://vb-audio.com/Voicemeeter/banana.htm ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆBasicç‰ˆä¸Šæ›¸ãï¼‰
3. ã‚·ã‚¹ãƒ†ãƒ å†èµ·å‹•
4. ãƒ‡ãƒã‚¤ã‚¹åç¢ºèª

**ä¸ç¢ºå®šè¦ç´ :**
- ãƒ‡ãƒã‚¤ã‚¹åãŒæ¨™æº–çš„ãª "Voicemeeter Output" ã«ãªã‚‹ã‹ä¸æ˜
- ã‚³ãƒ¼ãƒ‰ä¿®æ­£ãŒä¸è¦ã«ãªã‚‹ä¿è¨¼ãªã—

**åˆ¤æ–­:** ã‚ªãƒ—ã‚·ãƒ§ãƒ³Aã‚’å…ˆã«è©¦ã™ã¹ã

---

## ğŸ“‹ æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ä½œæ¥­æ‰‹é †

### Phase 1: ãƒ‡ãƒãƒƒã‚°æƒ…å ±åé›† (5åˆ†)

**ç›®çš„:** å®Ÿéš›ã®ãƒ‡ãƒã‚¤ã‚¹æ§‹æˆã‚’å®Œå…¨æŠŠæ¡

**æ–¹æ³•:**
1. ç°¡æ˜“ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ä½œæˆ
2. å…¨PortAudioãƒ‡ãƒã‚¤ã‚¹ã‚’åˆ—æŒ™
3. ä»¥ä¸‹ã®æƒ…å ±ã‚’å‡ºåŠ›:
   - ãƒ‡ãƒã‚¤ã‚¹å
   - MaxInputChannels
   - MaxOutputChannels
   - HostAPI

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:**
```
Device: VB-Audio Voicemeeter VAIO
  Input: X channels
  Output: Y channels
  HostAPI: Windows WASAPI
```

### Phase 2: ä¿®æ­£å®Ÿè£… (10åˆ†)

**ãƒ•ã‚¡ã‚¤ãƒ«:** `internal/recorder/recorder.go`

**å¤‰æ›´å†…å®¹:**
```go
// è¡Œ532-537ã‚’ä»¥ä¸‹ã«ç½®ãæ›ãˆ
voicemeeterKeywords := []string{
    "voicemeeter",
    "vb-audio",
    "vaio",
    "cable output",
}
```

**è¿½åŠ æ¤œè¨äº‹é …:**
- `MaxOutputChannels > 0` ã‚‚ãƒã‚§ãƒƒã‚¯ã«å«ã‚ã‚‹ã¹ãã‹
- å¤§æ–‡å­—å°æ–‡å­—ã®å‡¦ç†ã¯æ—¢ã« `strings.ToLower()` ã§å¯¾å¿œæ¸ˆã¿

### Phase 3: å†ãƒ“ãƒ«ãƒ‰ (5åˆ†)

```bash
cd C:\dev\KoeMoji-Go\build\windows
build.bat
```

**ç¢ºèªé …ç›®:**
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—
- exeç”Ÿæˆç¢ºèª
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºç¢ºèªï¼ˆç´„24MBï¼‰

### Phase 4: å‹•ä½œç¢ºèª (5åˆ†)

**ãƒ†ã‚¹ãƒˆæ‰‹é †:**
1. VoiceMeeterèµ·å‹•ç¢ºèª (`tasklist | grep voicemeeter`)
2. KoeMoji-Goèµ·å‹•
3. è¨­å®šç”»é¢ â†’ éŒ²éŸ³ã‚¿ãƒ–
4. ã€ŒVoiceMeeterè¨­å®šã‚’é©ç”¨ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
5. æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèª

**æœŸå¾…ã•ã‚Œã‚‹çµæœ:**
```
âœ“ VoiceMeeterè¨­å®šã‚’é©ç”¨ã—ã¾ã—ãŸ

éŒ²éŸ³ãƒ‡ãƒã‚¤ã‚¹: VB-Audio Voicemeeter VAIO
éŸ³é‡è‡ªå‹•èª¿æ•´: ON
```

### Phase 5: ã‚³ãƒŸãƒƒãƒˆ & ãƒ—ãƒƒã‚·ãƒ¥ (5åˆ†)

```bash
git add internal/recorder/recorder.go
git commit -m "ğŸ”§ fix: VoiceMeeteræ¤œå‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æ‹¡å¼µã—ã¦å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¯¾å¿œ

- æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã« \"voicemeeter\", \"vb-audio\", \"vaio\" ã‚’è¿½åŠ 
- Basic/Banana/Potatoå…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§æ¤œå‡ºå¯èƒ½ã«
- VB-Audio Voicemeeter VAIOãƒ‡ãƒã‚¤ã‚¹ã®æ¤œå‡ºã«å¯¾å¿œ

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>"

git push origin feature/voicemeeter-integration
```

---

## ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

### å¤‰æ›´äºˆå®šãƒ•ã‚¡ã‚¤ãƒ«
- `internal/recorder/recorder.go` (ä¿®æ­£)

### ç”Ÿæˆæ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«
- `build/releases/KoeMoji-Go-v1.6.0-win.zip` (12MB)
- `build/windows/dist/koemoji-go.exe` (24MB)

### ã‚³ãƒŸãƒƒãƒˆçŠ¶æ³
```
b5328d5 ğŸš€ release: v1.6.0 VoiceMeeterçµ±åˆã¨éŸ³é‡è‡ªå‹•èª¿æ•´æ©Ÿèƒ½ã‚’è¿½åŠ  (æœªãƒ—ãƒƒã‚·ãƒ¥)
fba8c98 ğŸ“ docs: VoiceMeeteræ©Ÿèƒ½ã®Windowså°‚ç”¨åŒ–ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åæ˜ 
4f8dd3b ğŸ”§ fix: VoiceMeeterçµ±åˆæ©Ÿèƒ½ã‚’Windowså°‚ç”¨ã«ä¿®æ­£
22f4169 âœ… test: VoiceMeeterçµ±åˆæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
a92e9a6 âœ¨ feat: VoiceMeeterçµ±åˆã¨éŸ³é‡è‡ªå‹•æ­£è¦åŒ–æ©Ÿèƒ½ã‚’å®Ÿè£…
```

---

## ğŸ¯ æ¬¡ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### çŸ­æœŸ (ä»Šé€±)
- [ ] VoiceMeeteræ¤œå‡ºä¿®æ­£
- [ ] å‹•ä½œç¢ºèª
- [ ] ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
- [ ] PRä½œæˆ (feature/voicemeeter-integration â†’ main)

### ä¸­æœŸ (ä»Šæœˆ)
- [ ] Macç’°å¢ƒã§ã®ãƒ“ãƒ«ãƒ‰ (v1.6.0-mac)
- [ ] Macç’°å¢ƒã§ã®å‹•ä½œãƒ†ã‚¹ãƒˆ
- [ ] GitHub Releaseä½œæˆ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

### é•·æœŸ
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†
- [ ] è¿½åŠ æ©Ÿèƒ½æ¤œè¨

---

## ğŸ“ è£œè¶³æƒ…å ±

### VoiceMeeterç’°å¢ƒè©³ç´°

**ç¾åœ¨ã®æ§‹æˆ:**
- è£½å“: VoiceMeeter Basic
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.1.1.9
- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ—¥: 2025-10-20
- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‘ã‚¹: `C:\Program Files (x86)\VB\Voicemeeter\`
- å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«: voicemeeter.exe, voicemeeter_x64.exe

**èªè­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒã‚¤ã‚¹:**
- Windows: `VB-Audio Voicemeeter VAIO` (OK)
- PortAudio: æœªç¢ºèªï¼ˆæ¬¡å›èª¿æŸ»ï¼‰

### å‚è€ƒè³‡æ–™
- VoiceMeeterå…¬å¼: https://vb-audio.com/Voicemeeter/
- ä½¿ã„æ–¹è¨˜äº‹: CastCraft ãƒ–ãƒ­ã‚°
- è¨­è¨ˆæ›¸: `docs/design/VoiceMeeterIntegration.md`
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: `docs/user/RECORDING_SETUP.md`

---

## ğŸ”— é–¢é€£Issue/PR
- ä½œæˆäºˆå®š: `ğŸš€ v1.6.0 VoiceMeeterçµ±åˆã¨éŸ³é‡è‡ªå‹•èª¿æ•´æ©Ÿèƒ½`

---

**æ¨å®šæ®‹ä½œæ¥­æ™‚é–“:** 30åˆ†
**æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³:** VoiceMeeteræ¤œå‡ºä¿®æ­£ã‹ã‚‰é–‹å§‹
